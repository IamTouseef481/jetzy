<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

    <!-- ######################################################################################################## -->
    <!-- ........................................................................................................ -->
    <!-- Lookup Tables                                                                                            -->
    <!-- ........................................................................................................ -->
    <!-- ######################################################################################################## -->

    <!-- ======================================================================================================== -->
    <!-- gender                                                                                                   -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="social_type">
        <createTable tableName="vnext_social_type" remarks="Social Login Types">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- gender                                                                                                   -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="gender">
        <createTable tableName="vnext_gender" remarks="Friend List, Private Membership, ...">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_gender:standard                       -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_gender:standard">
        <createIndex
                indexName="idx_gender_created_on"
                tableName="vnext_gender">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_gender_modified_on"
                tableName="vnext_gender">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_gender_deleted_on"
                tableName="vnext_gender">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_gender_description                         -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_gender_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_gender"
                                 constraintName="fk_gender_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- session_status                                                                                           -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="session_status">
        <createTable tableName="vnext_session_status" remarks="Friend List, Private Membership, ...">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_session_status:standard               -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_session_status:standard">
        <createIndex
                indexName="idx_session_status_created_on"
                tableName="vnext_session_status">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_session_status_modified_on"
                tableName="vnext_session_status">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_session_status_deleted_on"
                tableName="vnext_session_status">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_session_status_description                 -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_session_status_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_session_status"
                                 constraintName="fk_session_status_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- managed_group_type                                                                                       -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="managed_group_type">
        <createTable tableName="vnext_managed_group_type" remarks="Friend List, Private Membership, ...">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_managed_group_type:standard           -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_managed_group_type:standard">
        <createIndex
                indexName="idx_managed_group_type_created_on"
                tableName="vnext_managed_group_type">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_managed_group_type_modified_on"
                tableName="vnext_managed_group_type">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_managed_group_type_deleted_on"
                tableName="vnext_managed_group_type">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_managed_group_type_description             -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_managed_group_type_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_managed_group_type"
                                 constraintName="fk_managed_group_type_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- account_flag                                                                                             -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="account_flag">
        <createTable tableName="vnext_account_flag" remarks="Public, Invite, Request">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_account_flag:standard                 -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_account_flag:standard">
        <createIndex
                indexName="idx_account_flag_created_on"
                tableName="vnext_account_flag">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_account_flag_modified_on"
                tableName="vnext_account_flag">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_account_flag_deleted_on"
                tableName="vnext_account_flag">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_account_flag_description                   -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_account_flag_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_account_flag"
                                 constraintName="fk_account_flag_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- group_sign_up_type                                                                                       -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="group_sign_up_type">
        <createTable tableName="vnext_group_sign_up_type" remarks="Public, Invite, Request">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_group_sign_up_type:standard           -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_group_sign_up_type:standard">
        <createIndex
                indexName="idx_group_sign_up_type_created_on"
                tableName="vnext_group_sign_up_type">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_sign_up_type_modified_on"
                tableName="vnext_group_sign_up_type">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_sign_up_type_deleted_on"
                tableName="vnext_group_sign_up_type">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_group_sign_up_type_description             -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_group_sign_up_type_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_group_sign_up_type"
                                 constraintName="fk_group_sign_up_type_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- group_join_type                                                                                          -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="group_join_type">
        <createTable tableName="vnext_group_join_type" remarks="Invited, Requested, Owner, System, Universal, Merit">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_group_join_type:standard              -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_group_join_type:standard">
        <createIndex
                indexName="idx_group_join_type_created_on"
                tableName="vnext_group_join_type">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_join_type_modified_on"
                tableName="vnext_group_join_type">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_join_type_deleted_on"
                tableName="vnext_group_join_type">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_group_join_type_description                -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_group_join_type_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_group_join_type"
                                 constraintName="fk_group_join_type_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- permission                                                                                               -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="permission">
        <createTable tableName="vnext_permission" remarks="Edit, Read, Write, Admin, Delete, View, ...">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_permission:standard                   -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_permission:standard">
        <createIndex
                indexName="idx_permission_created_on"
                tableName="vnext_permission">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_permission_modified_on"
                tableName="vnext_permission">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_permission_deleted_on"
                tableName="vnext_permission">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_permission_description                     -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_permission_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_permission"
                                 constraintName="fk_permission_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- entity_subject_permission                                                                                -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="entity_subject_permission">
        <createTable tableName="vnext_entity_subject_permission" remarks="Grant/Revoke permission/role for specific entity">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="for_entity" remarks="entity we are granting/revoking permissions from. For example in Grant Edit Blog to User, entity would be the blog." type="UUID"><constraints nullable="false"/></column>
            <column name="subject" remarks="entity/group assigned/revoked permission. For example in Grant Edit Blog to User, subject would be the user."  type="UUID"><constraints nullable="false"/></column>
            <column name="permission" type="INT"><constraints nullable="false"/></column>
            <column name="grant_type" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- group_permission                                                                                         -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="group_permission">
        <createTable tableName="vnext_group_permission" remarks="Edit, Read, Write, Admin, Delete, View, ...">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_group_permission:standard                   -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_group_permission:standard">
        <createIndex
                indexName="idx_group_permission_created_on"
                tableName="vnext_group_permission">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_permission_modified_on"
                tableName="vnext_group_permission">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_permission_deleted_on"
                tableName="vnext_group_permission">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_group_permission_description               -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_group_permission_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_group_permission"
                                 constraintName="fk_group_permission_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>



    <!-- ======================================================================================================== -->
    <!-- group_perm_rule                                                                                          -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="group_perm_rule">
        <createTable tableName="vnext_group_perm_rule" remarks="Edit, Read, Write, Admin, Delete, View, ...">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_group_perm_rule:standard              -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_group_perm_rule:standard">
        <createIndex
                indexName="idx_group_perm_rule_created_on"
                tableName="vnext_group_perm_rule">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_perm_rule_modified_on"
                tableName="vnext_group_perm_rule">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_perm_rule_deleted_on"
                tableName="vnext_group_perm_rule">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_group_perm_rule_description                -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_group_perm_rule_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_group_perm_rule"
                                 constraintName="fk_group_perm_rule_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- grant_type                                                                                               -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="grant_type">
        <createTable tableName="vnext_grant_type" remarks="Grant, Inherit, Revoke, Deny">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_grant_type:standard                   -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_grant_type:standard">
        <createIndex
                indexName="idx_grant_type_created_on"
                tableName="vnext_grant_type">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_grant_type_modified_on"
                tableName="vnext_grant_type">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_grant_type_deleted_on"
                tableName="vnext_grant_type">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_grant_type_description                     -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_grant_type_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_grant_type"
                                 constraintName="fk_grant_type_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- group_grant_type                                                                                         -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="group_grant_type">
        <createTable tableName="vnext_group_grant_type" remarks="Grant, Inherit, Revoke, Deny">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_group_grant_type:standard             -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_group_grant_type:standard">
        <createIndex
                indexName="idx_group_grant_type_created_on"
                tableName="vnext_group_grant_type">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_grant_type_modified_on"
                tableName="vnext_group_grant_type">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_grant_type_deleted_on"
                tableName="vnext_group_grant_type">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_group_grant_type_description               -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_group_grant_type_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_group_grant_type"
                                 constraintName="fk_group_grant_type_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- group_lookup_rule                                                                                        -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="group_lookup_rule">
        <createTable tableName="vnext_group_lookup_rule" remarks="Grant, Inherit, Revoke, Deny">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_group_lookup_rule:standard            -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_group_lookup_rule:standard">
        <createIndex
                indexName="idx_group_lookup_rule_created_on"
                tableName="vnext_group_lookup_rule">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_lookup_rule_modified_on"
                tableName="vnext_group_lookup_rule">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_lookup_rule_deleted_on"
                tableName="vnext_group_lookup_rule">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_group_lookup_rule_description              -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_group_lookup_rule_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_group_lookup_rule"
                                 constraintName="fk_group_lookup_rule_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- status                                                                                                   -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="status">
        <createTable tableName="vnext_status">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_status:standard                       -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_status:standard">
        <createIndex
                indexName="idx_status_created_on"
                tableName="vnext_status">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_status_modified_on"
                tableName="vnext_status">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_status_deleted_on"
                tableName="vnext_status">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_status_description                         -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_status_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_status"
                                 constraintName="fk_status_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- state                                                                                                    -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="state">
        <createTable tableName="vnext_state" >
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_state:standard                        -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_state:standard">
        <createIndex
                indexName="idx_state_created_on"
                tableName="vnext_state">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_state_modified_on"
                tableName="vnext_state">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_state_deleted_on"
                tableName="vnext_state">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_state_description                          -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_state_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_state"
                                 constraintName="fk_state_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- check_in_type                                                                                            -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="check_in_type">
        <createTable tableName="vnext_check_in_type" >
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_check_in_type:standard                        -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_check_in_type:standard">
        <createIndex
                indexName="idx_check_in_type_created_on"
                tableName="vnext_check_in_type">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_check_in_type_modified_on"
                tableName="vnext_check_in_type">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_check_in_type_deleted_on"
                tableName="vnext_check_in_type">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_check_in_type_description                   -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_check_in_type_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_check_in_type"
                                 constraintName="fk_check_in_type_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- origin: Account Origin                                                                                   -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="origin">
        <createTable tableName="vnext_origin" >
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_origin:standard                       -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_origin:standard">
        <createIndex
                indexName="idx_origin_created_on"
                tableName="vnext_origin">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_origin_modified_on"
                tableName="vnext_origin">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_origin_deleted_on"
                tableName="vnext_origin">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_origin_description                         -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_origin_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_origin"
                                 constraintName="fk_origin_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- credential_provider                                                                                      -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="credential_provider">
        <createTable tableName="vnext_credential_provider">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_credential_provider:standard          -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_credential_provider:standard">
        <createIndex
                indexName="idx_credential_provider_created_on"
                tableName="vnext_credential_provider">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_credential_provider_modified_on"
                tableName="vnext_credential_provider">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_credential_provider_deleted_on"
                tableName="vnext_credential_provider">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_credential_provider_description            -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_credential_provider_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_credential_provider"
                                 constraintName="fk_credential_provider_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- degree_type                                                                                              -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="degree_type">
        <createTable tableName="vnext_degree_type" >
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_degree_type:standard                        -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_degree_type:standard">
        <createIndex
                indexName="idx_degree_type_created_on"
                tableName="vnext_degree_type">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_degree_type_modified_on"
                tableName="vnext_degree_type">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_degree_type_deleted_on"
                tableName="vnext_degree_type">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_degree_type_description                          -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_degree_type_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_degree_type"
                                 constraintName="fk_degree_type_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- degree_status                                                                                            -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="degree_status">
        <createTable tableName="vnext_degree_status" >
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_degree_status:standard                        -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_degree_status:standard">
        <createIndex
                indexName="idx_degree_status_created_on"
                tableName="vnext_degree_status">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_degree_status_modified_on"
                tableName="vnext_degree_status">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_degree_status_deleted_on"
                tableName="vnext_degree_status">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_degree_status_description                          -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_degree_status_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_degree_status"
                                 constraintName="fk_degree_status_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- employment_status                                                                                        -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="employment_status">
        <createTable tableName="vnext_employment_status" >
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_employment_status:standard                        -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employment_status:standard">
        <createIndex
                indexName="idx_employment_status_created_on"
                tableName="vnext_employment_status">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_employment_status_modified_on"
                tableName="vnext_employment_status">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_employment_status_deleted_on"
                tableName="vnext_employment_status">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_employment_status_description                          -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_employment_status_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_employment_status"
                                 constraintName="fk_employment_status_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- employment_type                                                                                        -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="employment_type">
        <createTable tableName="vnext_employment_type" >
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_employment_type:standard                        -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employment_type:standard">
        <createIndex
                indexName="idx_employment_type_created_on"
                tableName="vnext_employment_type">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_employment_type_modified_on"
                tableName="vnext_employment_type">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_employment_type_deleted_on"
                tableName="vnext_employment_type">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_employment_type_description                          -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_employment_type_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_employment_type"
                                 constraintName="fk_employment_type_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>




    <!-- ======================================================================================================== -->
    <!-- credential_type                                                                                          -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="credential_type">
        <createTable tableName="vnext_credential_type" >
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="INT" autoIncrement="false"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_credential_type:standard              -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_credential_type:standard">
        <createIndex
                indexName="idx_credential_type_created_on"
                tableName="vnext_credential_type">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_credential_type_modified_on"
                tableName="vnext_credential_type">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_credential_type_deleted_on"
                tableName="vnext_credential_type">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_credential_type_description                -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_credential_type_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_credential_type"
                                 constraintName="fk_credential_type_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>



    <!-- ######################################################################################################## -->
    <!-- ........................................................................................................ -->
    <!-- Standard Tables                                                                                          -->
    <!-- ........................................................................................................ -->
    <!-- ######################################################################################################## -->

    <!-- ======================================================================================================== -->
    <!-- school                                                                                                   -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="school">
        <createTable tableName="vnext_school">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="owner" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings + CMS -->
            <column name="name" remarks="current name" type="VARCHAR(128)"><constraints nullable="false"/></column>
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>
            <column name="details" remarks="cms" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_school_owner                          -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_school_owner">
        <createIndex
                indexName="idx_school_owner"
                tableName="vnext_school">
            <column name="owner"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_school_name                          -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_school_name">
        <createIndex
                indexName="idx_school_name"
                tableName="vnext_school">
            <column name="name"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_school:standard                       -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_school:standard">
        <createIndex
                indexName="idx_school_moderation_status"
                tableName="vnext_school">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_school_flagged"
                tableName="vnext_school">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_school_created_on"
                tableName="vnext_school">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_school_modified_on"
                tableName="vnext_school">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_school_deleted_on"
                tableName="vnext_school">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_school_description                         -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_school_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_school"
                                 constraintName="fk_school_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- school_location                                                                                          -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="school_location">
        <createTable tableName="vnext_school_location">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="school" type="UUID"><constraints nullable="false"/></column>
            <column name="location" type="UUID"><constraints nullable="false"/></column>
            <column name="location_owner" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="primary" type="BOOLEAN"><constraints nullable="false"/></column>
            <column name="weight" type="BIGINT"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings + CMS -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="true"/></column>
            <column name="details" remarks="cms" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>

    </changeSet>

    <!-- ......................................... -->
    <!-- idx_school_location                       -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_school_location">
        <createIndex
                indexName="idx_school_location"
                tableName="vnext_school_location">
            <column name="school"/>
            <column name="location"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_school_location_location              -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_school_location_location">
        <createIndex
                indexName="idx_school_location_location"
                tableName="vnext_school_location">
            <column name="location"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_school_location_owner               -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_school_location_owner">
        <createIndex
                indexName="idx_school_location_owner"
                tableName="vnext_school_location">
            <column name="location_owner"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_school_location:standard              -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_school_location:standard">
        <createIndex
                indexName="idx_school_location_moderation_status"
                tableName="vnext_school_location">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_school_location_flagged"
                tableName="vnext_school_location">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_school_location_created_on"
                tableName="vnext_school_location">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_school_location_modified_on"
                tableName="vnext_school_location">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_school_location_deleted_on"
                tableName="vnext_school_location">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_school_location_description                -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_school_location_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_school_location"
                                 constraintName="fk_school_location_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- degree                                                                                                   -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="degree">
        <createTable tableName="vnext_degree">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_degree:standard                       -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_degree:standard">
        <createIndex
                indexName="idx_degree_moderation_status"
                tableName="vnext_degree">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_degree_flagged"
                tableName="vnext_degree">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_degree_created_on"
                tableName="vnext_degree">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_degree_modified_on"
                tableName="vnext_degree">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_degree_deleted_on"
                tableName="vnext_degree">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_degree_description                         -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_degree_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_degree"
                                 constraintName="fk_degree_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- school_degree                                                                                            -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="school_degree">
        <createTable tableName="vnext_school_degree">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>
            <column name="school"  type="UUID"><constraints nullable="false"/></column>
            <column name="degree" type="UUID"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings + CMS -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="true"/></column>
            <column name="details" remarks="cms" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_school_degree                         -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_school_degree">
        <createIndex
                indexName="idx_school_degree"
                tableName="vnext_school_degree">
            <column name="school"/>
            <column name="degree"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_school_degree:standard                -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_school_degree:standard">
        <createIndex
                indexName="idx_school_degree_moderation_status"
                tableName="vnext_school_degree">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_school_degree_flagged"
                tableName="vnext_school_degree">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_school_degree_created_on"
                tableName="vnext_school_degree">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_school_degree_modified_on"
                tableName="vnext_school_degree">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_school_degree_deleted_on"
                tableName="vnext_school_degree">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_school_degree_description                  -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_school_degree_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_school_degree"
                                 constraintName="fk_school_degree_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- employer                                                                                                 -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="employer">
        <createTable tableName="vnext_employer">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="owner" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings + CMS -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>
            <column name="details" remarks="cms" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_employer_owner                          -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employer_owner">
        <createIndex
                indexName="idx_employer_owner"
                tableName="vnext_employer">
            <column name="owner"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_employer:standard                     -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employer:standard">
        <createIndex
                indexName="idx_employer_moderation_status"
                tableName="vnext_employer">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_flagged"
                tableName="vnext_employer">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_created_on"
                tableName="vnext_employer">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_modified_on"
                tableName="vnext_employer">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_deleted_on"
                tableName="vnext_employer">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_employer_description                         -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_employer_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_employer"
                                 constraintName="fk_employer_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- employer_location                                                                                        -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="employer_location">
        <createTable tableName="vnext_employer_location">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="employer" type="UUID"><constraints nullable="false"/></column>
            <column name="location" type="UUID"><constraints nullable="false"/></column>
            <column name="location_owner" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="primary" type="BOOLEAN"><constraints nullable="false"/></column>
            <column name="weight" type="BIGINT"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings + CMS -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="true"/></column>
            <column name="details" remarks="cms" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>


    <!-- ......................................... -->
    <!-- idx_employer_location                     -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employer_location">
        <createIndex
                indexName="idx_employer_location"
                tableName="vnext_employer_location">
            <column name="employer"/>
            <column name="location"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_employer_location_location            -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employer_location_location">
        <createIndex
                indexName="idx_employer_location_location"
                tableName="vnext_employer_location">
            <column name="location"/>
        </createIndex>
    </changeSet>


    <!-- ......................................... -->
    <!-- idx_employer_location_owner               -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employer_location_owner">
        <createIndex
                indexName="idx_employer_location_owner"
                tableName="vnext_employer_location">
            <column name="location_owner"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_employer_location:standard            -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employer_location:standard">
        <createIndex
                indexName="idx_employer_location_moderation_status"
                tableName="vnext_employer_location">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_location_flagged"
                tableName="vnext_employer_location">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_location_created_on"
                tableName="vnext_employer_location">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_location_modified_on"
                tableName="vnext_employer_location">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_location_deleted_on"
                tableName="vnext_employer_location">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_employer_location_description              -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_employer_location_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_employer_location"
                                 constraintName="fk_employer_location_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- vocation                                                                                                 -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="vocation">
        <createTable tableName="vnext_vocation" remarks="e.g. job">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings + CMS -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_vocation:standard                     -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_vocation:standard">
        <createIndex
                indexName="idx_vocation_moderation_status"
                tableName="vnext_vocation">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_vocation_flagged"
                tableName="vnext_vocation">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_vocation_created_on"
                tableName="vnext_vocation">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_vocation_modified_on"
                tableName="vnext_vocation">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_vocation_deleted_on"
                tableName="vnext_vocation">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_vocation_description                       -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_vocation_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_vocation"
                                 constraintName="fk_vocation_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- employer_role                                                                                            -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="employer_role">
        <createTable tableName="vnext_employer_role" remarks="e.g. job">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <column name="employer" type="UUID"><constraints nullable="false"/></column>
            <column name="vocation" type="UUID"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings + CMS -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>
            <column name="details" remarks="cms" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <column name="hiring" type="BOOLEAN"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_employer_role                         -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employer_role">
        <createIndex
                indexName="idx_employer_role"
                tableName="vnext_employer_role">
            <column name="employer"/>
            <column name="vocation"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_employer_role_vocation                -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employer_role_vocation">
        <createIndex
                indexName="idx_employer_role_vocation"
                tableName="vnext_employer_role">
            <column name="vocation"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_employer_role:standard                -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_employer_role:standard">
        <createIndex
                indexName="idx_employer_role_moderation_status"
                tableName="vnext_employer_role">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_role_flagged"
                tableName="vnext_employer_role">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_role_created_on"
                tableName="vnext_employer_role">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_role_modified_on"
                tableName="vnext_employer_role">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_employer_role_deleted_on"
                tableName="vnext_employer_role">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_employer_role_description                  -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_employer_role_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_employer_role"
                                 constraintName="fk_employer_role_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- organization                                                                                             -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="Organization">
        <createTable tableName="vnext_organization">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="owner" type="UUID"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="status" type="INT" />
            <column name="visibility" type="INT"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings & CMS -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>
            <column name="details" remarks="cms" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_organization_owner                    -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_organization_owner">
        <createIndex
                indexName="idx_organization_owner"
                tableName="vnext_organization">
            <column name="owner"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_organization:standard                 -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_organization:standard">
        <createIndex
                indexName="idx_organization_moderation_status"
                tableName="vnext_organization">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_organization_flagged"
                tableName="vnext_organization">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_organization_created_on"
                tableName="vnext_organization">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_organization_modified_on"
                tableName="vnext_organization">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_organization_deleted_on"
                tableName="vnext_organization">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_organization_description                   -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_organization_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_organization"
                                 constraintName="fk_organization_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- organization_location                                                                                    -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="organization_location">
        <createTable tableName="vnext_organization_location">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="organization" type="UUID"><constraints nullable="false"/></column>
            <column name="location" type="UUID"><constraints nullable="false"/></column>
            <column name="location_owner" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="primary" type="BOOLEAN"><constraints nullable="false"/></column>
            <column name="weight" type="BIGINT"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings + CMS -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="true"/></column>
            <column name="details" remarks="cms" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_organization_location                 -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_organization_location">
        <createIndex
                indexName="idx_organization_location"
                tableName="vnext_organization_location">
            <column name="organization"/>
            <column name="location"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_organization_location_location        -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_organization_location_location">
        <createIndex
                indexName="idx_organization_location_location"
                tableName="vnext_organization_location">
            <column name="location"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_organization_location_owner           -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_organization_location_owner">
        <createIndex
                indexName="idx_organization_location_owner"
                tableName="vnext_organization_location">
            <column name="location_owner"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_organization_location:standard        -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_organization_location:standard">
        <createIndex
                indexName="idx_organization_location_moderation_status"
                tableName="vnext_organization_location">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_organization_location_flagged"
                tableName="vnext_organization_location">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_organization_location_created_on"
                tableName="vnext_organization_location">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_organization_location_modified_on"
                tableName="vnext_organization_location">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_organization_location_deleted_on"
                tableName="vnext_organization_location">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_organization_location_description          -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_organization_location_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_organization_location"
                                 constraintName="fk_organization_location_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- group                                                                                                    -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="Group">
        <createTable tableName="vnext_group" remarks="">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations: Versioned Strings & CMS -->
            <column name="visibility" remarks="public, private, group, friends, friend_group etc." type="INT" />
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>
            <column name="details" remarks="cms" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="status" type="INT" ><constraints nullable="false"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_group:standard                        -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_group:standard">
        <createIndex
                indexName="idx_group_moderation_status"
                tableName="vnext_group">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_group_flagged"
                tableName="vnext_group">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_group_created_on"
                tableName="vnext_group">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_modified_on"
                tableName="vnext_group">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_group_deleted_on"
                tableName="vnext_group">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_group_description                          -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_group_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_group"
                                 constraintName="fk_group_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- entity_managed_group                                                                                     -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="entity_managed_group">
        <createTable tableName="vnext_entity_managed_group" remarks="groups managed by an organization/controlled by an organization, business, user, etc.">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="subject" type="UUID"><constraints nullable="false"/></column>
            <column name="group" type="UUID"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings & CMS -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>
            <column name="details" remarks="cms" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="managed_group_type" type="INT"><constraints nullable="false"/></column>
            <column name="visibility" type="INT"><constraints nullable="false"/></column>
            <column name="group_sign_up_type" remarks="public/invite/request"  type="INT"><constraints nullable="false"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_entity_managed_group                  -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_entity_managed_group">
        <createIndex
                indexName="idx_entity_managed_group"
                tableName="vnext_entity_managed_group">
            <column name="subject"/>
            <column name="group"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_entity_managed_group:standard         -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_entity_managed_group:standard">
        <createIndex
                indexName="idx_entity_managed_group_moderation_status"
                tableName="vnext_entity_managed_group">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_entity_managed_group_flagged"
                tableName="vnext_entity_managed_group">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_entity_managed_group_created_on"
                tableName="vnext_entity_managed_group">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_entity_managed_group_modified_on"
                tableName="vnext_entity_managed_group">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_entity_managed_group_deleted_on"
                tableName="vnext_entity_managed_group">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_entity_managed_group_description           -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_entity_managed_group_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_entity_managed_group"
                                 constraintName="fk_entity_managed_group_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- entity_member_of                                                                                         -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="entity_member_of">
        <createTable tableName="vnext_entity_member_of">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>
            <column name="subject" type="UUID" ><constraints nullable="false"/></column>
            <column name="member_of" remarks="group" type="UUID"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="member_note" remarks="versioned_string" type="UUID"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="join_type" type="INT" ><constraints nullable="false"/></column>
            <column name="joined_by" type="UUID" ><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_entity_member_of                      -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_entity_member_of">
        <createIndex
                indexName="idx_entity_member_of"
                tableName="vnext_entity_member_of">
            <column name="subject"/>
            <column name="member_of"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_entity_member_of_member               -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_entity_member_of_member">
        <createIndex
                indexName="idx_entity_member_of_member"
                tableName="vnext_entity_member_of">
            <column name="member_of"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_entity_member_of_joined_by            -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_entity_member_of_joined_by">
        <createIndex
                indexName="idx_entity_member_of_joined_by"
                tableName="vnext_entity_member_of">
            <column name="joined_by"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_entity_member_of_join_type            -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_entity_member_of_join_type">
        <createIndex
                indexName="idx_entity_member_of_join_type"
                tableName="vnext_entity_member_of">
            <column name="join_type"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_entity_member_of:standard             -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_entity_member_of:standard">
        <createIndex
                indexName="idx_entity_member_of_created_on"
                tableName="vnext_entity_member_of">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_entity_member_of_modified_on"
                tableName="vnext_entity_member_of">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_entity_member_of_deleted_on"
                tableName="vnext_entity_member_of">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_entity_member_of_note                      -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_entity_member_of_note">
        <addForeignKeyConstraint baseColumnNames="member_note"
                                 baseTableName="vnext_entity_member_of"
                                 constraintName="fk_entity_member_of_note"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_user_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user                                                                                                     -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user">
        <createTable tableName="vnext_user">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="profile_image" remarks="entity_image" type="UUID" />

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="about" remarks="about versioned string" type="UUID"><constraints nullable="true"/></column>
            <column name="bio" remarks="bio versioned string" type="UUID"><constraints nullable="true"/></column>
            <column name="panic" remarks="panic versioned string" type="UUID"><constraints nullable="true"/></column>

            <column name="employer" type="UUID"><constraints nullable="true"/></column>
            <column name="vocation" type="UUID"><constraints nullable="true"/></column>
            <column name="school" type="UUID"><constraints nullable="true"/></column>
            <column name="degree" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="gender" type="INT"><constraints nullable="false"/></column>
            <column name="date_of_birth" type="DATETIME"/>
            <column name="origin" remarks="0-None, 1-Jetzy, 2-Crisis, ..." type="INT" ><constraints nullable="false"/></column>
            <column name="verified" type="boolean" ><constraints nullable="false"/></column>
            <column name="status" type="INT" ><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="name" remarks="versioned_name" type="UUID"><constraints nullable="false"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <changeSet author="kebrings" id="user 2.0">
        <dropTable tableName="vnext_user"/>
        <createTable tableName="vnext_user">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="profile_image" remarks="entity_image" type="UUID" />

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="about" remarks="about versioned string" type="UUID"><constraints nullable="true"/></column>
            <column name="bio" remarks="bio versioned string" type="UUID"><constraints nullable="true"/></column>
            <column name="panic" remarks="panic versioned string" type="UUID"><constraints nullable="true"/></column>

            <column name="employer" type="UUID"><constraints nullable="true"/></column>
            <column name="vocation" type="UUID"><constraints nullable="true"/></column>
            <column name="school" type="UUID"><constraints nullable="true"/></column>
            <column name="degree" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="email" type="VARCHAR(255)"><constraints nullable="true"/></column>
            <column name="gender" type="INT"><constraints nullable="false"/></column>
            <column name="date_of_birth" type="DATETIME"/>
            <column name="origin" remarks="0-None, 1-Jetzy, 2-Crisis, ..." type="INT" ><constraints nullable="false"/></column>
            <column name="verified" type="boolean" ><constraints nullable="false"/></column>
            <column name="status" type="INT" ><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="name" remarks="versioned_name" type="UUID"><constraints nullable="false"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user:standard                         -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user:standard">
        <createIndex
                indexName="idx_user_moderation_status"
                tableName="vnext_user">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_user_flagged"
                tableName="vnext_user">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_user_created_on"
                tableName="vnext_user">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_user_modified_on"
                tableName="vnext_user">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_user_deleted_on"
                tableName="vnext_user">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_user_name                                  -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_user_name">
        <addForeignKeyConstraint baseColumnNames="name"
                                 baseTableName="vnext_user"
                                 constraintName="fk_user_name"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_versioned_name"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_check_in                                                                                            -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_check_in">
        <createTable tableName="vnext_user_check_in">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="user" type="UUID"><constraints nullable="false"/></column>
            <column name="location" type="UUID"><constraints nullable="true"/></column>
            <column name="check_in_image" remarks="image|entity_image" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="check_in_type" type="INT"><constraints nullable="false"/></column>
            <column name="check_in_time" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="check_out_time" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations: GEO -->
            <column name="geo_latitude" type="double"><constraints nullable="false"/></column>
            <column name="geo_longitude" type="double"><constraints nullable="false"/></column>
            <column name="geo_zone" type="BIGINT"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="comment" remarks="versioned string" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_check_in_user                    -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_check_in_user">
        <createIndex
                indexName="idx_user_check_in_user"
                tableName="vnext_user_check_in">
            <column name="user"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_check_in_location                -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_check_in_location">
        <createIndex
                indexName="idx_user_check_in_location"
                tableName="vnext_user_check_in">
            <column name="location"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_check_in:standard                -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_check_in:standard">
        <createIndex
                indexName="idx_user_check_in_moderation_status"
                tableName="vnext_user_check_in">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_user_check_in_flagged"
                tableName="vnext_user_check_in">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_user_check_in_created_on"
                tableName="vnext_user_check_in">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_user_check_in_modified_on"
                tableName="vnext_user_check_in">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_user_check_in_deleted_on"
                tableName="vnext_user_check_in">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_user_check_in_comment                      -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_user_check_in_comment">
        <addForeignKeyConstraint baseColumnNames="comment"
                                 baseTableName="vnext_user_check_in"
                                 constraintName="fk_user_check_in_comment"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_checkin_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_location                                                                                            -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_location">
        <createTable tableName="vnext_user_location">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" remarks="same as user" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="location" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="visibility" type="INT"><constraints nullable="false"/></column>
            <column name="time" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: GEO -->
            <column name="geo_latitude" type="double"><constraints nullable="false"/></column>
            <column name="geo_longitude" type="double"><constraints nullable="false"/></column>
            <column name="geo_zone" type="BIGINT"><constraints nullable="false"/></column>

        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_location_location                -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_location_location">
        <createIndex
                indexName="idx_user_location_location"
                tableName="vnext_user_location">
            <column name="location"/>
        </createIndex>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_location_history_event                                                                              -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_location_history_event">
        <createTable tableName="vnext_user_location_history_event">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="user" type="UUID"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="visibility" type="INT"><constraints nullable="false"/></column>
            <column name="time" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>

            <!-- Fields and Secondary Relations: GEO -->
            <column name="geo_latitude" type="double"><constraints nullable="false"/></column>
            <column name="geo_longitude" type="double"><constraints nullable="false"/></column>
            <column name="geo_zone" type="BIGINT"><constraints nullable="false"/></column>

        </createTable>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_education                                                                                           -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_education">
        <createTable tableName="vnext_user_education">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="user" type="UUID"><constraints nullable="false"/></column>
            <column name="school" type="UUID"><constraints nullable="true"/></column>
            <column name="degree" remarks="school_degree || degree" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="degree_type" type="INT"><constraints nullable="false"/></column>
            <column name="degree_status" type="INT"><constraints nullable="false"/></column>
            <column name="started_on" type="DATETIME"><constraints nullable="true"/></column>
            <column name="ended_on" type="DATETIME"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_education_user                   -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_education_user">
        <createIndex
                indexName="idx_user_education_user"
                tableName="vnext_user_education">
            <column name="user"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_education_school                 -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_education_school">
        <createIndex
                indexName="idx_user_education_school"
                tableName="vnext_user_education">
            <column name="school"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_education_degree                 -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_education_degree">
        <createIndex
                indexName="idx_user_education_degree"
                tableName="vnext_user_education">
            <column name="degree"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_education:standard               -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_education:standard">
        <createIndex
                indexName="idx_user_education_moderation_status"
                tableName="vnext_user_education">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_user_education_flagged"
                tableName="vnext_user_education">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_user_education_created_on"
                tableName="vnext_user_education">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_user_education_modified_on"
                tableName="vnext_user_education">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_user_education_deleted_on"
                tableName="vnext_user_education">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_user_education_description                 -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_user_education_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_user_education"
                                 constraintName="fk_user_education_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_user_versioned_string"
        />
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_employment                                                                                          -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_employment">
        <createTable tableName="vnext_user_employment">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Primary Relations -->
            <column name="user" type="UUID"><constraints nullable="false"/></column>
            <column name="employer" type="UUID"><constraints nullable="true"/></column>
            <column name="position" remarks="vocation || employer_role" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="employment_status" type="INT"><constraints nullable="false"/></column>
            <column name="started_on" type="DATETIME"><constraints nullable="true"/></column>
            <column name="ended_on" type="DATETIME"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations: Versioned Strings -->
            <column name="description" remarks="versioned_string" type="UUID"><constraints nullable="true"/></column>

            <!-- Moderation  -->
            <column name="moderation_status" type="INT"><constraints nullable="false"/></column>
            <column name="flagged" type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_employment_user                  -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_employment_user">
        <createIndex
                indexName="idx_user_employment_user"
                tableName="vnext_user_employment">
            <column name="user"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_employment_employer              -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_employment_employer">
        <createIndex
                indexName="idx_user_employment_employer"
                tableName="vnext_user_employment">
            <column name="employer"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_employment_position              -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_employment_position">
        <createIndex
                indexName="idx_user_employment_position"
                tableName="vnext_user_employment">
            <column name="position"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_employment:standard              -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_employment:standard">
        <createIndex
                indexName="idx_user_employment_moderation_status"
                tableName="vnext_user_employment">
            <column name="moderation_status"/>
        </createIndex>
        <createIndex
                indexName="idx_user_employment_flagged"
                tableName="vnext_user_employment">
            <column name="flagged"/>
        </createIndex>
        <createIndex
                indexName="idx_user_employment_created_on"
                tableName="vnext_user_employment">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_user_employment_modified_on"
                tableName="vnext_user_employment">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_user_employment_deleted_on"
                tableName="vnext_user_employment">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- fk_user_employment_description                -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++ -->
    <changeSet author="kebrings" id="fk_user_employment_description">
        <addForeignKeyConstraint baseColumnNames="description"
                                 baseTableName="vnext_user_employment"
                                 constraintName="fk_user_employment_description"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="identifier"
                                 referencedTableName="vnext_user_versioned_string"
        />
    </changeSet>


    <!-- ........................................................................................................ -->
    <!-- ======================================================================================================== -->
    <!-- Credentials:                                                                                             -->
    <!-- Note we explicitly set things up to allow multiple guids/firebase tokens to map to a user.               -->
    <!-- ======================================================================================================== -->
    <!-- ........................................................................................................ -->

    <!-- ======================================================================================================== -->
    <!-- user_session                                                                                             -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_session">
        <createTable tableName="vnext_user_session" remarks="per session entry (unique from Legacy Sessions)">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations -->
            <column name="user" remarks="user or anonymous" type="UUID"><constraints nullable="false"/></column>
            <column name="uuid" type="UUID"><constraints nullable="false"/></column>

            <column name="device" type="UUID"><constraints nullable="false"/></column>
            <column name="credential" remarks="authenticated by" type="UUID"><constraints nullable="false"/></column>

            <column name="session_status" type="INT"><constraints nullable="false"/></column>
            <column name="generation"  remarks="used for checking device/user/credential global logout/invalidation" type="BIGINT"><constraints nullable="false"/></column>

            <column name="session_start" type="DATETIME(6)"><constraints nullable="false"/></column>
            <column name="session_end" type="DATETIME(6)"><constraints nullable="true"/></column>
            <column name="expire_after" remarks="close session after this date, updated if session active" type="DATETIME(6)"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_session_user                     -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_session_user">
        <createIndex
                indexName="idx_user_session_user"
                tableName="vnext_user_session">
            <column name="user"/>
            <column name="uuid"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_session_generation               -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_session_generation">
        <createIndex
                indexName="idx_user_session_generation"
                tableName="vnext_user_session">
            <column name="generation"/>
        </createIndex>
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- credential_provider_generation                                                                           -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="credential_provider_generation">
        <createTable tableName="vnext_credential_provider_generation" remarks="allows for scenarios where we need to invalidate all sessions authenticated with a specific provider for example if linkedin is compromised">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="credential_provider" remarks="local authentication, facebook, google, twitter, linkedin, etc." type="INT"><constraints nullable="false" primaryKey="true"/></column>
            <column name="credential_type" type="INT"><constraints nullable="false" primaryKey="true"/></column>
            <column name="generation" type="BIGINT"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- user_credential_generation                                                                               -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_credential_generation">
        <createTable tableName="vnext_user_credential_generation">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="user_credential" type="UUID"><constraints nullable="false" primaryKey="true" /></column>
            <column name="generation" type="BIGINT"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_session_generation                                                                                  -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_session_generation">
        <createTable tableName="vnext_user_session_generation">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="user" type="UUID"><constraints nullable="false" primaryKey="true" /></column>
            <column name="generation" type="BIGINT"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_device_session_generation                                                                           -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_device_session_generation">
        <createTable tableName="vnext_user_device_session_generation">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="user_device" type="UUID"><constraints nullable="false" primaryKey="true" /></column>
            <column name="generation" type="BIGINT"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_authentication_setting                                                                              -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_authentication_setting">
        <createTable tableName="vnext_user_authentication_setting" remarks="extended user info separated from main record to control table size">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations -->
            <column name="user" type="UUID"><constraints nullable="false"/></column>
            <column name="device" remarks="setting specific to device" type="UUID"><constraints nullable="true"/></column>
            <column name="credential" remarks="setting specific to user credential" type="UUID"><constraints nullable="true"/></column>

            <!-- Fields and Secondary Relations -->
            <column name="weight" type="BIGINT"><constraints nullable="false"/></column>
            <column name="description" remarks="user_versioned_string" type="UUID"><constraints nullable="false"/></column>
            <column name="status" type="INT"><constraints nullable="false"/></column>
            <column name="setting" remarks="Raw JSON, only referenced/used by elixir system" type="TEXT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_credential                                                                                          -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_credential">
        <createTable tableName="vnext_user_credential" remarks="extended user info separated from main record to control table size">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations -->
            <column name="user" type="UUID"><constraints nullable="false"/></column>

            <column name="origin" type="INT"><constraints nullable="false"/></column>
            <column name="status" type="INT"><constraints nullable="false"/></column>
            <column name="credential_type" type="INT"><constraints nullable="false"/></column>
            <column name="credential_provider" remarks="local authentication, facebook, google, twitter, linkedin, etc." type="INT"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="created_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
            <column name="deleted_on" type="DATETIME"><constraints nullable="true"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_credential_user                  -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_credential_user">
        <createIndex
                indexName="idx_user_credential_user"
                tableName="vnext_user_credential">
            <column name="user"/>
            <column name="credential_type"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_credential:standard              -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_credential:standard">
        <createIndex
                indexName="idx_user_credential_created_on"
                tableName="vnext_user_credential">
            <column name="created_on"/>
        </createIndex>
        <createIndex
                indexName="idx_user_credential_modified_on"
                tableName="vnext_user_credential">
            <column name="modified_on"/>
        </createIndex>
        <createIndex
                indexName="idx_user_credential_deleted_on"
                tableName="vnext_user_credential">
            <column name="deleted_on"/>
        </createIndex>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_credential__firebase                                                                                -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_credential__firebase">
        <createTable tableName="vnext_user_credential__firebase" remarks="extended user info separated from main record to control table size">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" remarks="Identical to credential.id" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations -->
            <column name="firebase_user" type="VARCHAR(36)"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ............................................. -->
    <!-- idx_user_credential__firebase_firebase_user   -->
    <!-- ............................................. -->
    <changeSet author="kebrings" id="idx_user_credential__firebase_firebase_user">
        <createIndex
                indexName="idx_user_credential__firebase_firebase_user"
                tableName="vnext_user_credential__firebase">
            <column name="firebase_user"/>
        </createIndex>
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- user_credential__social                                                                                  -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_credential__social">
        <createTable tableName="vnext_user_credential__social" remarks="extended user info separated from main record to control table size">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" remarks="Identical to credential.id" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations -->
            <column name="social_type" type="INT"><constraints nullable="false"/></column>
            <column name="social_identifier" type="VARCHAR(128)"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ............................................. -->
    <!-- idx_user_credential__social_social_identifier -->
    <!-- ............................................. -->
    <changeSet author="kebrings" id="idx_user_credential__social_social_identifier">
        <createIndex
                indexName="idx_user_credential__social_social_identifier"
                tableName="vnext_user_credential__social">
            <column name="social_type"/>
            <column name="social_identifier"/>
        </createIndex>
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- user_credential__jetzy_legacy                                                                            -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_credential__jetzy_legacy">
        <createTable tableName="vnext_user_credential__jetzy_legacy" remarks="extended user info separated from main record to control table size">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" remarks="Identical to credential.id" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations -->
            <column name="guid" type="VARCHAR(36)"><constraints nullable="false"/></column>
            <column name="login_name" type="VARCHAR(128)"><constraints nullable="false"/></column>
            <column name="password_hash" type="VARCHAR(64)"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ............................................. -->
    <!-- idx_user_credential__jetzy_legacy_login_name  -->
    <!-- ............................................. -->
    <changeSet author="kebrings" id="idx_user_credential__jetzy_legacy_login_name">
        <createIndex
                indexName="idx_user_credential__jetzy_legacy_login_name"
                tableName="vnext_user_credential__jetzy_legacy">
            <column name="login_name"/>
            <column name="password_hash"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_credential__jetzy_legacy_guid    -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_credential__jetzy_legacy_guid">
        <createIndex
                indexName="idx_user_credential__jetzy_legacy_guid"
                tableName="vnext_user_credential__jetzy_legacy">
            <column name="guid"/>
            <column name="password_hash"/>
        </createIndex>
    </changeSet>


    <!-- ======================================================================================================== -->
    <!-- user_credential__bcrypt                                                                                  -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_credential__bcrypt">
        <createTable tableName="vnext_user_credential__bcrypt" remarks="extended user info separated from main record to control table size">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" remarks="Identical to credential.id" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations -->
            <column name="login" type="NVARCHAR(255)"><constraints nullable="false"/></column>
            <column name="password" type="NVARCHAR(64)"><constraints nullable="false"/></column>

            <!-- Standard Time Stamps -->
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_credential__bcrypt_login         -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_credential__bcrypt_login">
        <createIndex
                indexName="idx_user_credential__bcrypt_login"
                tableName="vnext_user_credential__bcrypt">
            <column name="login"/>
            <column name="password"/>
        </createIndex>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_credential__jetzy_legacy_session                                                                    -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_credential__jetzy_legacy_session">
        <createTable tableName="vnext_user_credential__jetzy_legacy_session" remarks="extended user info separated from main record to control table size">
            <!-- Primary Key and Global Ref Indicator -->
            <column name="identifier" remarks="Identical to credential.id" type="UUID"><constraints nullable="false" primaryKey="true" /></column>

            <!-- Fields and Secondary Relations -->
            <column name="guid" type="VARCHAR(36)"><constraints nullable="false"/></column>
            <column name="session" type="VARCHAR(36)"><constraints nullable="false"/></column>
            <column name="session_active" type="INT"><constraints nullable="false"/></column>
            <column name="recheck_after"
                    remarks="we locally cache the session guid to avoid needing to frequently hit mssql, to avoid stale sessions we must periodically recheck. In practice this is handled in elixir"
                    type="DATETIME"
                    defaultValueComputed="NOW()">
                <constraints nullable="false"/>
            </column>

            <!-- Standard Time Stamps -->
            <column name="modified_on" type="DATETIME" defaultValueComputed="NOW()"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ................................................ -->
    <!-- idx_user_credential__jetzy_legacy_session_guid   -->
    <!-- ................................................ -->
    <changeSet author="kebrings" id="idx_user_credential__jetzy_legacy_session_guid">
        <createIndex
                indexName="idx_user_credential__jetzy_legacy_session_guid"
                tableName="vnext_user_credential__jetzy_legacy_session">
            <column name="guid"/>
            <column name="session"/>
        </createIndex>
    </changeSet>

    <!-- .................................................. -->
    <!-- idx_user_credential__jetzy_legacy_session_session  -->
    <!-- .................................................. -->
    <changeSet author="kebrings" id="idx_user_credential__jetzy_legacy_session_session">
        <createIndex
                indexName="idx_user_credential__jetzy_legacy_session_session"
                tableName="vnext_user_credential__jetzy_legacy_session">
            <column name="session"/>
            <column name="guid"/>
        </createIndex>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- ........................................................................................................ -->
    <!-- Reverse Lookup                                                                                           -->
    <!-- ........................................................................................................ -->
    <!-- ======================================================================================================== -->

    <!-- ======================================================================================================== -->
    <!-- user_guid_lookup                                                                                         -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_guid_lookup">
        <createTable tableName="vnext_user_guid_lookup" remarks="legacy guid lookup for interop with legacy mssql">
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>
            <column name="user" type="UUID"><constraints nullable="false"/></column>
            <column name="guid" type="CHAR(36)"><constraints nullable="false"/></column>
            <column name="status" type="INT"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_guid_lookup_user                 -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_guid_lookup_user">
        <createIndex
                indexName="idx_user_guid_lookup_user"
                tableName="vnext_user_guid_lookup">
            <column name="user"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_guid_lookup_guid                 -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_guid_lookup_guid">
        <createIndex
                indexName="idx_user_guid_lookup_guid"
                tableName="vnext_user_guid_lookup">
            <column name="guid"/>
        </createIndex>
    </changeSet>

    <!-- ======================================================================================================== -->
    <!-- user_firebase_lookup                                                                                     -->
    <!-- ======================================================================================================== -->
    <changeSet author="kebrings" id="user_firebase_lookup">
        <createTable tableName="vnext_user_firebase_lookup" remarks="firebase guid lookup">
            <column name="identifier" type="UUID"><constraints nullable="false" primaryKey="true" /></column>
            <column name="user" type="UUID"><constraints nullable="false"/></column>
            <column name="firebase" type="VARCHAR(36)"><constraints nullable="false"/></column>
            <column name="status" type="INT"><constraints nullable="false"/></column>
        </createTable>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_firebase_lookup_user             -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_firebase_lookup_user">
        <createIndex
                indexName="idx_user_firebase_lookup_user"
                tableName="vnext_user_firebase_lookup">
            <column name="user"/>
        </createIndex>
    </changeSet>

    <!-- ......................................... -->
    <!-- idx_user_firebase_lookup_firebase         -->
    <!-- ......................................... -->
    <changeSet author="kebrings" id="idx_user_firebase_lookup_firebase">
        <createIndex
                indexName="idx_user_firebase_lookup_firebase"
                tableName="vnext_user_firebase_lookup">
            <column name="firebase"/>
        </createIndex>
    </changeSet>

</databaseChangeLog>
